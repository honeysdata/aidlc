# 테이블오더 서비스 사용자 스토리

## 스토리 분류: 사용자 여정별
## 수용 기준 형식: 시나리오 기반
## 우선순위: MoSCoW (Must/Should/Could/Won't)

---

# Journey 1: 고객 주문 플로우

## US-C01: 테이블 자동 로그인
**As a** 고객  
**I want to** 테이블 태블릿에서 자동으로 로그인되기를  
**So that** 별도 인증 절차 없이 바로 주문할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 관리자가 초기 설정(매장ID, 테이블번호, 비밀번호)을 완료하면 로그인 정보가 로컬에 저장된다
2. 저장된 정보가 있으면 앱 시작 시 자동으로 로그인되어 메뉴 화면이 표시된다
3. 자동 로그인 실패 시 초기 설정 화면으로 이동하고 에러 메시지가 표시된다
4. 로그인 성공 후 해당 테이블의 세션 정보가 유지된다

---

## US-C02: 메뉴 조회 및 탐색
**As a** 고객  
**I want to** 카테고리별로 메뉴를 탐색하기를  
**So that** 원하는 음식을 쉽게 찾을 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 로그인 후 메뉴 화면이 기본 화면으로 표시된다
2. 카테고리 탭을 터치하면 해당 카테고리의 메뉴 목록이 표시된다
3. 각 메뉴 카드에 메뉴명, 가격, 설명이 표시된다
4. 메뉴 카드를 터치하면 장바구니에 추가할 수 있는 옵션이 나타난다
5. 카테고리가 없거나 메뉴가 없는 경우 적절한 안내 메시지가 표시된다

---

## US-C03: 장바구니 관리
**As a** 고객  
**I want to** 주문 전에 선택한 메뉴를 확인하고 수정하기를  
**So that** 정확한 주문을 할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 메뉴를 선택하면 장바구니에 추가되고 장바구니 아이콘에 수량이 표시된다
2. 장바구니에서 각 메뉴의 수량을 증가/감소할 수 있다
3. 수량이 0이 되면 해당 메뉴가 장바구니에서 삭제된다
4. 총 금액이 실시간으로 계산되어 표시된다
5. 장바구니 비우기 버튼으로 전체 삭제가 가능하다
6. 페이지를 새로고침해도 장바구니 내용이 유지된다
7. 장바구니가 비어있을 때 주문 버튼이 비활성화된다

---

## US-C04: 주문 생성
**As a** 고객  
**I want to** 장바구니의 메뉴를 주문하기를  
**So that** 음식을 받을 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 주문 확정 버튼을 누르면 주문 내역 확인 화면이 표시된다
2. 확인 후 주문하기 버튼을 누르면 서버에 주문이 전송된다
3. 주문 성공 시 주문 번호가 표시되고 5초 후 메뉴 화면으로 자동 이동한다
4. 주문 성공 시 장바구니가 자동으로 비워진다
5. 주문 실패 시 에러 메시지가 표시되고 장바구니는 유지된다
6. 주문 처리 중에는 로딩 인디케이터가 표시된다

---

## US-C05: 주문 내역 조회
**As a** 고객  
**I want to** 현재 테이블의 주문 내역을 확인하기를  
**So that** 주문 상태를 파악할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 주문 내역 탭에서 현재 세션의 주문 목록이 시간순으로 표시된다
2. 각 주문에 주문번호, 시각, 메뉴/수량, 금액, 상태가 표시된다
3. 주문 상태(대기중/준비중/완료)가 실시간으로 업데이트된다
4. 이전 세션(이용 완료된)의 주문은 표시되지 않는다
5. 주문이 없을 경우 "주문 내역이 없습니다" 메시지가 표시된다

---

# Journey 2: 관리자 관리 플로우

## US-A01: 관리자 로그인
**As a** 매장 관리자  
**I want to** 매장 관리 시스템에 로그인하기를  
**So that** 주문과 매장을 관리할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 매장 식별자, 사용자명, 비밀번호를 입력하여 로그인한다
2. 로그인 성공 시 JWT 토큰이 발급되고 16시간 동안 세션이 유지된다
3. 브라우저를 새로고침해도 세션이 유지된다
4. 16시간 후 자동으로 로그아웃되고 로그인 화면으로 이동한다
5. 잘못된 인증 정보 입력 시 에러 메시지가 표시된다
6. 연속 로그인 실패 시 일정 시간 로그인이 제한된다

---

## US-A02: 실시간 주문 모니터링
**As a** 매장 관리자  
**I want to** 들어오는 주문을 실시간으로 확인하기를  
**So that** 주문을 놓치지 않고 처리할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 대시보드에 테이블별 카드가 그리드 형태로 표시된다
2. 각 테이블 카드에 총 주문액과 최신 주문 미리보기가 표시된다
3. 새 주문이 들어오면 2초 이내에 화면에 반영된다
4. 신규 주문은 시각적으로 강조(색상 변경, 애니메이션)된다
5. 테이블 카드를 클릭하면 해당 테이블의 전체 주문 목록이 표시된다
6. 주문이 없는 테이블은 "주문 없음" 상태로 표시된다

---

## US-A03: 주문 상태 변경
**As a** 매장 관리자  
**I want to** 주문 상태를 변경하기를  
**So that** 주문 처리 진행 상황을 관리할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 주문 상세에서 상태 변경 버튼(대기중→준비중→완료)이 표시된다
2. 상태 변경 시 즉시 화면에 반영된다
3. 상태 변경이 고객 화면에도 실시간으로 반영된다
4. 상태 변경 실패 시 에러 메시지가 표시되고 이전 상태가 유지된다

---

## US-A04: 주문 삭제
**As a** 매장 관리자  
**I want to** 잘못된 주문을 삭제하기를  
**So that** 정확한 주문 현황을 유지할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 주문 상세에서 삭제 버튼이 표시된다
2. 삭제 버튼 클릭 시 확인 팝업이 표시된다
3. 확인 후 주문이 삭제되고 테이블 총 주문액이 재계산된다
4. 삭제 성공/실패에 대한 피드백이 표시된다
5. 삭제된 주문은 고객 화면에서도 제거된다

---

## US-A05: 테이블 이용 완료 처리
**As a** 매장 관리자  
**I want to** 테이블 이용 완료를 처리하기를  
**So that** 새 고객이 깨끗한 상태에서 시작할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 테이블 카드에서 "이용 완료" 버튼이 표시된다
2. 버튼 클릭 시 확인 팝업이 표시된다
3. 확인 후 해당 세션의 주문이 과거 이력으로 이동한다
4. 테이블의 현재 주문 목록과 총 주문액이 0으로 리셋된다
5. 고객 화면에서 이전 주문 내역이 더 이상 표시되지 않는다
6. 성공/실패에 대한 피드백이 표시된다

---

## US-A06: 과거 주문 내역 조회
**As a** 매장 관리자  
**I want to** 테이블의 과거 주문 내역을 조회하기를  
**So that** 이전 매출과 주문 기록을 확인할 수 있다

**Priority**: Should

**Acceptance Criteria**:
1. 테이블 상세에서 "과거 내역" 버튼이 표시된다
2. 클릭 시 해당 테이블의 과거 주문 목록이 시간 역순으로 표시된다
3. 각 주문에 주문번호, 시각, 메뉴 목록, 총 금액, 이용 완료 시각이 표시된다
4. 날짜 필터링으로 특정 기간의 주문만 조회할 수 있다
5. "닫기" 버튼으로 대시보드로 복귀한다

---

## US-A07: 테이블 초기 설정
**As a** 매장 관리자  
**I want to** 테이블 태블릿을 초기 설정하기를  
**So that** 고객이 해당 테이블에서 주문할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 테이블 관리에서 테이블 번호와 비밀번호를 설정할 수 있다
2. 설정 완료 시 해당 테이블의 16시간 세션이 생성된다
3. 설정 정보가 저장되어 태블릿에서 자동 로그인이 가능해진다
4. 이미 존재하는 테이블 번호로 설정 시 에러 메시지가 표시된다

---

## US-A08: 메뉴 관리
**As a** 매장 관리자  
**I want to** 메뉴를 등록/수정/삭제하기를  
**So that** 판매 메뉴를 관리할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 메뉴 관리 화면에서 카테고리별 메뉴 목록이 표시된다
2. 메뉴 등록 시 메뉴명, 가격, 설명, 카테고리를 입력한다
3. 필수 필드(메뉴명, 가격, 카테고리) 미입력 시 에러 메시지가 표시된다
4. 가격은 0 이상의 숫자만 입력 가능하다
5. 메뉴 수정 시 기존 정보가 폼에 표시되고 변경 후 저장할 수 있다
6. 메뉴 삭제 시 확인 팝업이 표시되고 확인 후 삭제된다
7. 메뉴 노출 순서를 드래그앤드롭으로 조정할 수 있다

---

## US-A09: 카테고리 관리
**As a** 매장 관리자  
**I want to** 메뉴 카테고리를 관리하기를  
**So that** 메뉴를 체계적으로 분류할 수 있다

**Priority**: Must

**Acceptance Criteria**:
1. 카테고리 관리 화면에서 카테고리 목록이 표시된다
2. 카테고리 추가 시 카테고리명을 입력한다
3. 중복된 카테고리명 입력 시 에러 메시지가 표시된다
4. 카테고리 수정 시 기존 이름이 표시되고 변경 후 저장할 수 있다
5. 카테고리 삭제 시 해당 카테고리에 메뉴가 있으면 삭제가 불가하다
6. 카테고리 순서를 조정할 수 있다

---

# 스토리 요약

| Journey | Story ID | 제목 | Priority |
|---------|----------|------|----------|
| 고객 주문 | US-C01 | 테이블 자동 로그인 | Must |
| 고객 주문 | US-C02 | 메뉴 조회 및 탐색 | Must |
| 고객 주문 | US-C03 | 장바구니 관리 | Must |
| 고객 주문 | US-C04 | 주문 생성 | Must |
| 고객 주문 | US-C05 | 주문 내역 조회 | Must |
| 관리자 관리 | US-A01 | 관리자 로그인 | Must |
| 관리자 관리 | US-A02 | 실시간 주문 모니터링 | Must |
| 관리자 관리 | US-A03 | 주문 상태 변경 | Must |
| 관리자 관리 | US-A04 | 주문 삭제 | Must |
| 관리자 관리 | US-A05 | 테이블 이용 완료 처리 | Must |
| 관리자 관리 | US-A06 | 과거 주문 내역 조회 | Should |
| 관리자 관리 | US-A07 | 테이블 초기 설정 | Must |
| 관리자 관리 | US-A08 | 메뉴 관리 | Must |
| 관리자 관리 | US-A09 | 카테고리 관리 | Must |

**Total**: 14 Stories (13 Must, 1 Should)
